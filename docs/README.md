# [미션 - 영화 예매 미션] 명세서

## 목차

1. [기능 목록](#-기능-목록)
2. [상수값 목록](#-상수값-목록)
3. [단위 테스트 목록](#-단위테스트-목록)
4. [클래스 설계](#-클래스-설계)
5. [리팩토링 검토 목록](#%EF%B8%8F-리팩토링-검토-목록)

## 🚀 기능 목록

### 로직 분리에 따른 예외 발생 기준

- 예외 발생 시 적합한 표준예외를 사용한다.
- 기본 UI 검증 오류는 `view`에서, 도메인 기능에서 발생하는 오류는 `service`에서 예외를 발생시킨다.

### 도메인 구성 요소

- 영화
    - 번호
    - 이름
    - 가격
    - 시간표 목록
- 시간표
    - 시작 시간 (yyyy-MM-dd HH:mm)
    - 예약 가능 인원
- 예매 정보
    - 예매 금액
- 상영 영화 목록

### 도메인 로직을 위한 기능

1.
    - [x] 모든 영화 목록을 조회하는 기능
2.
    - [ ] 주어진 영화 번호의 시간표 목록을 조회하는 기능
        - [ ] `예외발생` : 존재하지 않는 영화 번호
3.
    - [ ] 주어진 영화 번호, 시간표 번호에 맞는 시간표를 조회하는 기능
        - [ ] `예외발생` : 존재하지 않는 시간표 번호
        - [ ] `예외발생` : 예약 가능 인원이 0인 시간표 번호
4.
    - [ ] 특정 시간표에 주어진 인원만큼 예매를 진행하는 기능
        - 해당 시간표의 예약가능인원을 변경하고, 계산한 예매 금액을 저장한다.
            - [ ] `예외발생` : 예약 가능 인원보다 큰 예매 인원
5.
    - [ ] 포인트 사용금액, 결제 유형, 예매 금액에 따라 최종 결제 금액을 계산하는 기능
        - 입력한 포인트가 예매 금액보다 크면, 할인률 계산 없이 차액을 반환한다.
6.
    - [ ] 선택한 키워드에 따라 결제를 진행하거나 추가 예약을 진행하는 기능
        - 추가 예약 진행 시 기존의 예매 금액에 추가 예매 금액을 더한다.

### UI 로직을 위한 기능

1.
    - [x] 상영 영화 목록을 보여주고, 예약할 영화 번호를 입력받는 기능
        - 영화 목록이 비어 있으면 이를 안내하는 메시지를 대신 출력한다.
        - [x] `예외발생` : 정수가 아닌 경우
2.
    - [ ] 시간표 목록을 보여주고, 예약할 시간표 번호를 입력받는 기능
        - 시간표 목록이 비어 있으면 이를 안내하는 메시지를 대신 출력한다.
        - [ ] `예외발생` : 정수가 아닌 경우
3.
    - [ ] 예약할 시간표 번호를 입력받는 기능
        - [ ] `예외발생` : 정수가 아닌 경우
4.
    - [ ] 예약할 인원을 입력받는 기능
        - [ ] `예외발생` : 자연수가 아닌 경우
5.
    - [ ] 선택 키워드를 입력받는 기능 (추가 예약/결제 여부, 신용카드/현금)
        - [ ] `예외발생` : 정해진 키워드가 아닌 경우
6.
    - [ ] 포인트 사용 금액을 입력받는 기능 (추가 예약/결제 여부, 신용카드/현금)
        - [ ] `예외발생` : 자연수가 아닌 경우
7.
    - [ ] 최종 결제 안내 메시지를 출력하는 기능

## 🗄 상수값 목록

### 도메인 로직 정보

- [ ] 결제 유형, 할인율 (카드:5%, 현금:2%)

### UI 로직 정보

- [ ] 입력 안내 메시지
- [ ] 에러 메시지 출력 형식
- [x] 영화 출력 형식
- [x] 국내 통화 출력 형식
- [ ] 시간표 출력 형식
- [ ] 최종 결제 안내 출력 형식

- [ ] 추가 예약 선택 키워드
- [ ] 결제 유형 선택 키워드

## ✅ 단위테스트 목록

### 도메인 로직 단위테스트

- [ ] 기능1 단위테스트
    - [ ] 실행 성공
    - [ ] 예외 테스트

## 🖋 클래스 설계

[작성 예정]

## ♻️ 리팩토링 검토 목록

### 코드 스타일 및 요구사항

- [ ] 인덴트 2 이하 검토
- [ ] 메소드 분리, 클래스 분리 검토
- [ ] 메소드 길이 10라인 이하 검토
- [ ] 파라미터 개수 3개 이하 검토
- [ ] 변수, 메소드 선언 순서 정리 (메소드 정렬 기준 1순위: 메소드 간 논리적 연관성, 2순위: public-private)
- [ ] Java 코드 컨벤션 가이드 준수 검토
- [ ] 요구사항에 주어진 클래스 적용 규칙 검토
- [ ] TODO 주석 모두 해결 후 삭제
- [ ] 객체 생성 방지 필요한 정적 클래스 확인